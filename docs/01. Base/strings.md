[В начало](../../README.md)

---

## **Строки**

Нужно помнить, что в PHP строковая переменная хранит в себе масив символов размером с 1 байт.

При работе с кирилицей могут возникнутьт проблемы при использовании стандарных методов по работе с русскими строками, так как 1 русский символ весит 2 байта.

Для работы с кирилицей лучше всего использовать функции из расширения mbstring.

---

### **Полезные методы по работе со строками**

`mb_strlen` - Функция для получения количества символов в строке. В качестве первого параметра принимает строку, длину которой требуется определить. Второй параметр - кодировка - является необязательным.

```php
echo strlen('Привет, этот дивный мир!') . '<br>';
// -> 43
echo mb_strlen('Привет, этот дивный мир!') . '<br>';
// -> 24
```

`mb_strpos` - Функция для поиска первого вхождения подстроки $needle в строку $haystack. $offset — символ, с которого выполняется поиск, по умолчанию — первый (индекс 0).

```php
echo strpos('Привет, этот дивный мир!', 'этот') . '<br>';
// -> 14
echo mb_strpos('Привет, этот дивный мир!', 'этот') . '<br>';
// -> 8
```

`mb_ord ` - Возвращает десятичный код символа, а mb_chr — символ по десятичному коду.

```php
$code_emoji = (mb_ord("\u{1F914}"));
$code_emoji_hex = dechex($code_emoji);
$emoji = mb_chr($code_emoji);

echo "Десятичный код: $code_emoji\n";
// -> Десятичный код: 129300
echo "Шестнадцатиричный код: $code_emoji_hex\n";
// -> Шестнадцатиричный код: 1f914
echo "Символ: $emoji\n";
// -> Символ: 
```

`mb_substr` - Функция, которая возвращает часть строки. Если $length (количество символов) не указано, то берётся часть строки до конца.

```php
$greeting = 'Привет, прекрасный мир!';

echo mb_substr($greeting, 0) . '<br>';
// -> Привет, прекрасный мир!
echo mb_substr($greeting, 8) . '<br>';
// -> прекрасный мир!
echo mb_substr($greeting, 8, 10) . '<br>';
// -> прекрасный
echo mb_substr($greeting, -4, 3) . '<br>';
// -> мир
echo mb_substr($greeting, mb_strpos($greeting, 'мир')) . '<br>';
// -> мир!
```

`mb_convert_case` - Функции для преобразования регистра текста:
- `mb_strtolower` преобразует в нижний регистр;
- `mb_strtoupper` преобразует в верхний регистр;
- `mb_convert_case` изменяет регистр в соответствии с заданным $mode.


```php
$greeting = "Привет, прекрасный мир!";

echo mb_convert_case($greeting, MB_CASE_UPPER_SIMPLE) . "<br>";
// -> ПРИВЕТ, ПРЕКРАСНЫЙ МИР!
echo mb_strtoupper($greeting) . "<br>";
// -> ПРИВЕТ, ПРЕКРАСНЫЙ МИР!

echo mb_convert_case($greeting, MB_CASE_LOWER_SIMPLE) . "<br>";
// -> привет, прекрасный мир!
echo mb_strtolower($greeting) . "<br>";
// -> привет, прекрасный мир!

echo mb_convert_case($greeting, MB_CASE_TITLE_SIMPLE) . "<br>";
// -> Привет, Прекрасный Мир!
```

`trim` - Удаляет пробелы в начале и конце строки:

```php
$greeting = " Привет, Мир!!!    ";

var_dump(trim($greeting));
// -> string(23) "Привет, Мир!!!"
```

`explod` - Разбивает строку по указанной подстроке и помещает в массив.

```php
$telegram = "ШАРИК С МАТРОСКИНЫМ ПОРУГАЛИСЬ ТЧК ВЕЩИ ДЕЛЯТ ТЧК СКОРО ПЕЧЬ ПИЛИТЬ НАЧНУТ ТЧК ПЕЧКИН";

print_r(explode(' ТЧК ', $telegram));
// -> Array
// -> (
// ->     [0] => ШАРИК С МАТРОСКИНЫМ ПОРУГАЛИСЬ
// ->     [1] => ВЕЩИ ДЕЛЯТ
// ->     [2] => СКОРО ПЕЧЬ ПИЛИТЬ НАЧНУТ
// ->     [3] => ПЕЧКИН
// -> )

---

$leningrad = "www.leningrad.spb.ru";

print_r(explode('.', $leningrad));
// -> Array
// -> (
// ->     [0] => www
// ->     [1] => leningrad
// ->     [2] => spb
// ->     [3] => ru
// -> )

```

`str_replace` - Функция для замены подстрок на другие.

```php
$str = 'Здравствуй, %name%';
$name_pattern = '%name%';
$name_value = 'Иван'; 

echo str_replace($name_pattern, $name_value, $str);
// -> Здравствуй, Иван
```




---

